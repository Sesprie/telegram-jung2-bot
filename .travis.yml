os: linux
language: node_js
node_js:
- '12'
- node
git:
  quiet: true
  depth: 3
cache: npm
after_success:
- npm run codecov
- npm run coveralls
jobs:
  include:
  - stage: deploy
    node_js: 12
    script: bash scripts/deploy.sh
    if: |
      branch IN (master, develop) AND \
      type = push
notifications:
  email:
    on_success: change
    on_failure: always
env:
  global:
  - secure: RkzFnCOibh3y9W1QGkMBiMsTMnHn3vc/rTwpUyyvfHgL2GudLeol5A1lyLf2/aQvezh8CSaKDd2TqFh0uC7RMCu/EfdkoX1w1aTcAc5trRwQSYyQazAnoPjGp86el4I3zD5yJ2n6MfZUyUMGbzdx+zJJhg3MV/zXS607TwgwwHddvcAL0sFtZdO2Bo7XJeMNIaoA/YY97tVIrC02w4DkERyiSl6d4weRsi+MgzQB3TBDrqYZ1F/oPh99NttUZzp7uHSdEv/ddolXyMx0W/ZrefPBw7KhE/nJNM9sltxNhag45D9SKOPkYLcdNF3gVeNL7a/FJH0C7/roCirg9gBzjDVkgKRVTgrcCzRwHi8NZEHtMy6+0HEwlywGD9L5l3jU61P1QmFLMjb/zNt6zO3eu32ud/Zijm4/O3IjvPd1SSS5zPY5GsNf893oryZAbfjKCb//ble9jRC4obLgVIUuT1YOlxYC0oqD6P/YzAshZAH2Uc3ORIHHU/5WfNKrcdyN/UAW0QzNzNkI1Hr+PnbsAIODGZpUPL9d6hLesnKb60Qe7o/eVQJ/OPt4eyYry8KfAkFrv/1ws37gRB02XgghYPH2ddz4uwzMRHT6DVBT3xnVa0Y1wJbTQ6uo7eXwmClezVc608cHIqJGRPtefH5zUUSujDBBP7SpIXtxSTbK/YA=
  - secure: K+FXTMY/BqFa+W/M1niDeOMz+lreYEX8+7p42ec5YVZ1c3WVoP5MJYOOxznO4xDXay0R7SRZMMC7+IGo2ZFeR3SuGNTxvVCgR9Vj4vsyPsdqCUtOwULlFaMDwchm96tG6gFNaScBeX6vPaUUZ4qT9pb6RoUNBXkRLWsCFcpJPhGK89+PJ83guBPUi/dNxzqZiyISvGCc8jE9wDVEKlXVM02xgRT3MeQeLD9bn+2CtEWUVsCArkd8wYivR9lRRrEj34ae3FBSTqZLzwqiP7Sr3x/0ZhPhiLLSQfjb7UVHrAPMmgkcDxvKqIQDHCvtXeoN4aH8v8/ekW6t7192yDDV7V0L3CmclgXcHgGUe8Ypfnive9CT3ZcUy6lLkcne6sNivuqNS4Id713dGxitpbar+FD+sbJc9i1lE2F07oXLhh7/eJVkdeYpbkc57n25hTTDxMixIyC0f1y8Nue0eoZnvYX0SgMDy5+kkWRzaSm8mDQstWKqFu6rpp/YS7QIzTOQtOS/40UeyW/uObjPTJpaWS08jkeRQ4ZtSFjUhCN+6V/dNPcrYx84/hdfmlG4FXZ4HabPVI5eh6F/gZiue2taIhYDqnc6ZECY2X23rqjzZi+8pHmOsgrG7CksczJzGYwUYnYXbCsqtMZMkz1n7dg7/h/i7Zb2++FYNlPJSGQSrNI=
  - secure: FGAX/GXf/kKGnpe4dfP1B+WIfkxLzCNmQ/NaoC+BApCr06EhkLAjZCrjTgGC0nhCL2r54SxTGtp38Yb0Zfk3W9DuOhaNEtEFf0ZL23iryZG1AHuuINEm6RocfffSpWcaoIRKfsEqPLd1zXSFyqMWx4Z4PR/XQ17emWBe409RTTcCF4icWJUoOI9VkFFnaY65AwJRmDOUX3xu+KX1AZU9AWuLOwondw1vG2mcc7oyeb//u5Zhdf8+2rRO4aP2rv2PJVGn6XEVRmBcDU06Q3RD3XQAs75hIwvRSeGwOkyou2b+Q848KSSEyg9XeiqRr4PNkWQRcx8oxsYT9MxgyP+yN9zJxDO5+300srAyEtKLDKh8kXoDrX6ym5hlKsl2CoTo8g7vZur2weYGK/2kUd0pjMSZ79LjWsk0PvPayY0YX7KCfyvp+xwgojUWOyE3+MRcnfeOKAUZBQxVP1I6tz+6ao/Om7mhGUcuEnPn1V8B1uA0kAHrch4JlrIa+HahZqPx1XhNDkKvBPu/pKyrFR8vO2bseaUWS+0ZF22H+xc4AkiVIyplzMnRDuZnLXt/1SCYxsNsKwp+Mn/RBNY96Nvn9pZDT/68bA+Dr+u5Ktpn3GLdNQHBZxaf1sgCRRFJYgL0A5GeXVCLoj40MM4Ql/G8v2Zfkl0ZZl7uc7X1zNqZMcU=
  - secure: w25qNEWbVoQfT350EyENbzhKA70dJDJlvwtePsSUK+OLCzAJzkJnk7ncBNERBzr5fBNVo1q9F27Dq/djj9llZmhnBiQBCVGWmjVOxdna9KIHZi2b0gDy4Y06Q8WMKeWhGdGInngJPPwqtqnyaEHEEUR1Aht9NPobh3M41UPm32OunxQFll/AHgpfUofo+RGd7n1z8UVWFBPJX7ui9sH1qnzuf4JNOVCJVlLVNk87S8JjM3aYy0Lgdp+V9jdQl4xt4VKahIlfDrcs3NztKmZ9Nsilfg1UM725zPqkADjaDISp1hFhSdp1auvyOCW1RvtEYZUTKwxQCKAsMyzW4Yg6X797muGCegDhKt6hoep5ThJl56SFTACB4rBODAi+V+Qr02Wa1UhiUG6IjG1iogFYd1LJATVWViXtBzI4O76nesOX96r9NwoM6G3u63eDH8D+GM7SuEbwXgugTEyVq9qHzlfiUfszwnAiJtUDOOisVbtoD0La/gEGlPCMb+Md8c1QieyzDjZSfk7GMT79XLCPzutHJoO6J/XgaRNqjVSeOauOlAahvLrm6Fyq2L49DBuLDvZRqlAFQDNFxs9LnQmCG0mfdQvvIrRi6QjBqWnl9zob06RZ1sgdq24bpjt1qe86eLS6Zq/QRaEMzEIX+6xOKf+x479YEGU/XGP3kpdXlE0=
  - secure: phlZqa9jByVlDOlOnkP9vBFArlXXPBUWlv4wujHTlwSjjimIcmnsPTNS5Rxr2SqeImjf7j5wz02thySRkyxqtmUv0zNEo/eOikA24J9ozKqHfOtDIIoiDPsW2+szpFTUdQsgGcDtkRSh7xz1ul8SMFHzYhg8ECYeRKo0cDinAJXYfgdbPJbzL/P1+XJlxPQP9uyC5ryBd1nrUQkQOh5KWTu5Pkkysa06R3ioN+My7gL3pnJSwSIPvxLXS9oqV02QEu5dWEjcd9Dr7iNHsdCPrFOx4JOCZhoECIdZHsWUwK0IA/FwIEx6IQDR1Uu5wIg3JY/hVRQ+s9PmGXVwRba1+LC5PTpdnTsDl3KkDyPeYEjs2TrpU2c4623PsOGlgCNg5Cg4nUkj1x01QzUDXj50V73K5ZnKcK2f8p5jYOC8cvEyYsgExbyRCPNLlPUANFTdBypAuKTUG8SF9Lo+CiAQokcfeVVjSaTdBg9s1pFgvT6RG74FETiJQeT6YqjOxkZn/SzvP+sTvu6oCk6YjG63sNsHj7dqGrCaeVE117kKsBQgjtxgkK3p1gZ5LUBPzFxKzLs7VBkYiyDFz7AZsT648iwBKNzSrmxGHwGYmjluqcUMllnCXn23Y0Xy/vCHN3Dc9T6NYR3yCgYnhB+qZZ3uumueLVsQQmDvhG/HaF/n5vE=
  - secure: m4t59Eaho73OzjZvMNLX+ey+RBggOYEI8FgJdYrS5+nLmXH0vQCGxrPMhKGMl735w62tVi8wnFu2YyoXXMVeypfPRxjJ53nyEJR8tv80Sy6+qNW6pzqde2oZlA7KfRDCHY3kB1d6C29I9juRrOkdNPYX7KQUrGsamHdX0fusExvRYTc3UAJy/m2MfWmnE+NM3G8UfxRlkyqjbX5LGGZhiFh8epMsF6hIUNBQSk4cTXqWKHqswWOfdsqWpK3kSjdLoWbRZVSf3EIeqA+rE32lpIQPOzRlfZMFYWlUssx0wgAuSp2Zq19mAdSa1152NUxSv2W6yxI91F6fOtjdt6y01GlIx72eldmjMVnG4dZYRPensNZBxWFi8iopTQakgEZ12Bb24B7WFLBe2WHsKO2ZRc2PHnQ39VyIqwI4TjjRWBkMw31CCMsfm+NA0mxhgkEzg/9zf1duzC+H38yCQOKRTRERLY2jqE9s1dlgzm17ClbDSMPhsiruAPPYJIY7AOr0HZcV5wNVdwZWl5mnY9NOxW+lJkbmExv3Rqkd6CVjCtlrwQm54qJI+syY/S/hAAJl0Lkv3xWixwljfXlSH/aWRJKtRMYGnNq6fA4htNQEZQn69MxexJCu5ov2xWGC/z2LGfAc8mlHKF3Cr6zVIppwiAIR6cEON8ajqnq2bDp3EAY=
  - secure: WeI6bJjEiD6BT/jGL8nvWo+OV9ZFWs0zuBpq8MonKfztUKdlxR8ZNczjqy0aZYNuv7QgIbEKXVgdRl5iBapEKmN+S/Tu38aT1PipIp1hdvdh8jFxBfN0u3RvjItpxjINDU2IMALeRFrW5J6j3Yb0Rw7i3sbh0pg07mG+Ix8iCQZXEu4ZGzrIeqLTjKM4ZgutSaRcYpxFIgVBxdycKoEHVcR4egDwlYIX/KeaXz7brj9u5F8SkETL+ybubcfZ/A7I7vzJP/fAO+MNPWsM6YfgEE9AvapQadTgk/zTjSMSUY4kVfL8bsa/L7sJY4a/RJZ3DdH5pJySDm4u7OhYSUyiVscW2G0vJwRYlI8LnFUoZsAXPQwZAHGv5kFvwemTI1+W7iJzPyAsuaRy+aLtM6q8XMkLba/yiznO2t4NgjQ1J/UPcGZiGb/lyQCuvU/sARgA3brxbqJSN2K3HBkvT4bGxrvhYE3IsczlbI8LaVESCCmq3WEul9rvwUSbSpAi9g6alCOMEcpgRrK4SQEHVQvpZxvuzD4TFWVAZe5NK1g+2sFFfHhX9zlZiGaJXdh7fHn5QQjXwHVuJeX/+JAufIMm9VBaI2uLq0sdBUAY36pN1sIp5+DtUHc6uI908+gcX0dxnfk9Sd3WQK+Xy7/YXwnMKOi+HIoPL9jeu47A87e6JjY=
  - secure: kMAiV3hmbHYkwmi4EyrE3M0IJq0p7WvbHl8GKj4d97o9EFSDfd/tjHe0/SZT37sJ6wg7FMltOY6s8ctWwWzHtRyRhFsk9Fyj5EoVdWEUh1RfmIVpr1rAS7bP3YqibmAwY6JH4JlXT/60GwQqPF5hOL5xy1QRPpx/u0LsKKCORHJZ39HlKXVBEHEtC1gWHUGS33DIKM2Bt3366FtYL/FHio5WTC3/d2tMpE1zhQ1+4mYhoUTIPBWJOv+HDQmsRaBqP6XD2b8440LayA24CCw9r2mqOLoD4S/30f9WkwyScR30y8e0VS4RmK/IUauTsSuSYHgyuz0YPqgbVmpD9/PnDKE9Iwov8qkzepRumKfj8AgolKT0pg+ADHDcSKTtGtvrbr8F0xWJgkLx0yNEdUrg5eEB3u0/UvGctl0lGidwm+wtcnpOo1ZMlwVBCfd+MLgsCZyx5pcSBVTItwNHQhunGOTy99T9mNwEjf2r8pBE0nuyg6T8QpOlmNTW3gDWh5ugthaDpC8e0cayVEFt2Rmf/eOTkV38ariFkg/pKN8CxiF0qDXYYfmKV/cpNZ7fawgcOU/4VEncZQn1ZGz29YqudItBel+KqmDDsjWPfiBhhhQODuWknM1IbdSALmwEoVh5qXGR18a3bZjbiEBX6fPjwD2rPbBlB/m24e1/Sy2oclU=
  - secure: qSukOH9TflEYvyepJQLD2kT0IZr86g07G6LTzUHdiGz0DQTe50X2F6l+XG4jQMgF/FUzeWIABCsuYbi7+97POhS8hApG3cUOHDzpRWRfDHoL+K5o+LHRrsp4PnLsdEjLXmh0aHZBF4+Aw+lBJ8GZYyMjwsJIVLQbNT1ur0NTlrsd7GBSJsUlytZAnDspQmchylUvN4+qf1hbZNTCjYMCg8jQZY9hicypU8GeORIZpkD2PHaYOxpcupOrSCaR1ZRA9ONUFz/LqCLhNZzwLwhiXxb9GonaJob1rc7OG4wTyVvdzu6KVv8h9FVnj2r5sToIqi1GxGVI1YguQ5QI8aggaEmkja8iiaF5ng6Ejbz/iwtTrVI3yvlnQ6oy8wdg9UpM13Gw900gEHOpSXpYE3ujrWfSKhykcFaGVYlMp5iW24Vfrx8/WDmd4wjiJW9dK3cnBNtzfl3rY7Ip7SwqqB0Dp8VxDk8ZwaQwalXb96YIQVN1eXUJmLdwvEAVsWRRamEMB3Kt5VKzM5K1VrAdVzSOKHRLFqcl7l5Qtpn8JZyTyKd3fzC/c6fsgR62BtC+G2nbIz1xmcWY8Orkp4CkeXYKqple3lZ3j6hb2RzjT8enbAHL876AL/0Vi4+JtHrKUsQH8R/bfp2G9JuSNbYsGzCkUQFihdMveAiAd1Je3Fk1hVY=
  - secure: XcrkvEfgQEgBsnbHFpEkPRkc1jpVAk6pfo3L1iCrnLPIe3+NeZU8zh8dC/OxKeiJCY+MsIXW4ruW7QfxTgpSLecJYJ/u3gyUfTNax4p8G5gsIESE6WpWHf6vhQ+4HZE0tmBUcI+s3kQhdSWzIfOWBTePQjT1BDkvdrPTNXNX/GZrX/TxUHHFy96Sx2QN7g6BFdRBuaHQ3rVSZ6Dd8Sow/QrPwciMOx+dNT3KS2NTqBKPuFB9AUqH9tO1aAEAnqn32xKIBmeXX/XP2GE2gxwGyq+3CxGuS867VGPBYnDrOvL12EboRp6TwsexJBnWGNvye+fBz3aYJzQPMpWVB6xGyV+IVPQ5x9DDAO0ybg+/KThooS2fc9nYIMXbw0BrWEz7c21BmT6nUPxjoiHJDKUoSW9sjVRJvDwMn10sLiCxyWRYjR2TVTKOm8wHTZNrH0tSSVz07kC7vDtdcF5k+8ZqhvJdZvhLUgAFgfoDNC8vtKOICC1r7Dds50dJSRN42CqlhS/boSi3aatx70rB2YWn8BEpxZAWXzD8SMMNliFoABczpHNBRiHaR6ibKuCr798dNVHZ/H+F7u8K/RUHkgYfPnum2zSzFgoFXi1ympnnc8krewEyAsrYAF9+HRfGS1lZw0Pcp4E+9an1HXF1KL85KPYgnVxErHhb6bg+BUCpKBM=
  - secure: VojSxEJ0vVKVxP+U3OwIyrl/REmDu9OavmTFmVH0M4k8LA1SzRSAYJBFcJPMXN4LttoGp77yGeDpzHopbdOV2yO3CATAimzrcKobOG9WNvuwgpwAzKU/LJmP93E7latBGlWkkU0IEgPw5tE4U0RQ0yOkPR0WIS2h9kgzhLz+/fWUd3v/qkNbabZg+x3NsW8M8iKLNPlkLwDjtu5Fv2XeePu1oiFUeF9ZBHF66ezjtGT0+BS90cTEjovBSO68sFPBR1Xc0yv/DqGl2hudmaNKl/6RUzEKED4B5sAUSZjpDOgOxEGoBqhm2F4ElHT/WIhJf9yUEDipn9UnPj8ywynphzBg1c/2PkSIzprOpTkIrU3CCTxcx5Ze9UIHlODiEdV/fB9mUyFcZGG8SEtsuvmckM6HT7UcobGfB53x7dc+9Hyjf2LSlrM9ZgBq5jMugkPnVDlnBG21rixlkgimKi5xaNbzDriJbWI7mTCV1t/G5SidnyyHEjdFl6LXlvWUrLBnDY7izJ7oK5B9zhebwPi88ZPonmKd8yWFVu/0Tpqg44r1nHBEZsvjP4Q5Ro2Xx9Y/WbGBREvdBdyw1PSw1T/nghwqZTbY+64O/HA98rcMZy3teQAvYG698ZnX7JasTD6HO1bYx92h1MTDRpoIsFYUsC5I0DroihlnNJuJ+PXQJ0k=
  - secure: jWExfkH0XFpsdcoahmW/F1TvvC8Cdkv3qvA8ZjSDzz+BTb9AP5vb0/mVx+CAhLg/6Lqmh55GcCWChEsCL30PqvwGYiBxTBeyDFI8/UROwzTAGXDgixn1rmZrXTpydPevzxn6v+IS4zTavFMG0pAjpxp5zK7cWyUWNA7PYfPzq1NGZR5QFye32Sf/wvXYLw2fdny7oL00LK0m3JHIRKW/xYZOgTYQUQyrHu7A19Xkhct/PGjDwqUZVWvvfJ1j7BD8ogihLIggpPvXpKGm0fX/WPOpaWOxxw5U6EkHoP1rnN2x1ao6kKFXWlkcugwfHQRqm+V4TB8JbMgFSybneF2t/pmgBAqDjn3JIQzwzYsceYDlAmdeKcx0o2QrAuwjgEq6XRGE05kC9HQmmK4LUATq7waE/Aj3Fk46tNaKOpZrmXKTHU5E3DwHE7DHF2SXHL8W84NjvDSX/TspppcogBgQSnDjuNq4A2g3yKz6rP0zeQgg1yTD/PkUZYw3o0YH5nfhoCbE5DukArBtmyvJd4+HO6OvG/xnFdYw9Idfb21qto26OVgWnKCmsrp0c0DgogItrkYLo9OAuQaUmw61NdM6HcqI/PYv/Fy040ZYIyRlNLe3B5h1R/LYwquYZlr/VpYDVkqnf/TNCxjdRfBshp1Ikz+2CfRJyjLUsKptsq2hl4c=
